{"version":3,"file":"api.js","names":["_frontendPlatform","require","_auth","ownKeys","e","r","t","Object","keys","getOwnPropertySymbols","o","filter","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","arguments","length","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","obj","key","value","_toPropertyKey","configurable","writable","i","_toPrimitive","String","Symbol","toPrimitive","call","TypeError","Number","getBlocksFromCourse","courseId","courseIdFormat","encodeURIComponent","data","getAuthenticatedHttpClient","get","getConfig","LMS_BASE_URL","blocks","blocksFormat","reduce","prevBlocks","camelCaseObject","error","Error","exports"],"sources":["../../../../src/editors/sharedComponents/InsertLinkModal/api.js"],"sourcesContent":["/* eslint-disable import/prefer-default-export */\nimport { camelCaseObject, getConfig } from '@edx/frontend-platform';\nimport { getAuthenticatedHttpClient } from '@edx/frontend-platform/auth';\n\nexport const getBlocksFromCourse = async (courseId) => {\n  try {\n    const courseIdFormat = encodeURIComponent(courseId);\n    const { data } = await getAuthenticatedHttpClient().get(\n      `${\n        getConfig().LMS_BASE_URL\n      }/api/courses/v1/blocks/?course_id=${courseIdFormat}&all_blocks=true&depth=all&requested_fields=name,parent, display_name,block_type,children`,\n    );\n\n    const { blocks } = data;\n    const blocksFormat = Object.keys(blocks).reduce(\n      (prevBlocks, key) => ({\n        ...prevBlocks,\n        [key]: camelCaseObject(blocks[key]),\n      }),\n      {},\n    );\n\n    data.blocks = blocksFormat;\n\n    return data;\n  } catch (error) {\n    throw new Error(error);\n  }\n};\n"],"mappings":"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"}