{"version":3,"file":"GalleryCard.js","names":["_react","_interopRequireDefault","require","_propTypes","_paragon","_i18n","_SelectableBox","_messages","_utils","_LanguageNamesWidget","_jsxRuntime","obj","__esModule","default","ownKeys","e","r","t","Object","keys","getOwnPropertySymbols","o","filter","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","arguments","length","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","key","value","_toPropertyKey","configurable","writable","i","_toPrimitive","String","Symbol","toPrimitive","call","TypeError","Number","GalleryCard","_ref","asset","thumbnailFallback","thumbnailError","setThumbnailError","React","useState","jsx","className","type","id","children","jsxs","style","width","height","Image","border","src","externalUrl","onError","status","statusBadgeVariant","Badge","variant","position","left","top","duration","right","bottom","backgroundColor","formatDuration","marginTop","displayName","transcripts","margin","fontSize","FormattedMessage","messages","addedDate","values","date","FormattedDate","dateAdded","time","FormattedTime","exports","defaultProps","undefined","propTypes","PropTypes","shape","contentType","string","oneOfType","number","instanceOf","Date","locked","bool","portableUrl","thumbnail","url","arrayOf","isRequired","element","_default"],"sources":["../../../../src/editors/sharedComponents/SelectionModal/GalleryCard.jsx"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport {\n  Badge,\n  Image,\n} from '@openedx/paragon';\nimport { FormattedMessage, FormattedDate, FormattedTime } from '@edx/frontend-platform/i18n';\n\n// SelectableBox in paragon has a bug where you can't change selection. So we override it\nimport SelectableBox from '../SelectableBox';\nimport messages from './messages';\nimport { formatDuration } from '../../utils';\nimport LanguageNamesWidget from '../../containers/VideoEditor/components/VideoSettingsModal/components/VideoPreviewWidget/LanguageNamesWidget';\n\nexport const GalleryCard = ({\n  asset,\n  thumbnailFallback,\n}) => {\n  const [thumbnailError, setThumbnailError] = React.useState(false);\n  return (\n    <SelectableBox\n      className=\"card bg-white shadow-none border-0 py-0\"\n      key={asset.externalUrl}\n      type=\"radio\"\n      value={asset.id}\n    >\n      <div className=\"card-div d-flex flex-row flex-nowrap align-items-center\">\n        <div\n          className=\"position-relative\"\n          style={{\n            width: '200px',\n            height: '100px',\n          }}\n        >\n          {(thumbnailError && thumbnailFallback) ? (\n            <div style={{ width: '200px', height: '100px' }}>\n              { thumbnailFallback }\n            </div>\n          ) : (\n            <Image\n              style={{ border: 'none', width: '200px', height: '100px' }}\n              src={asset.externalUrl}\n              onError={thumbnailFallback && (() => setThumbnailError(true))}\n            />\n          )}\n          { asset.status && asset.statusBadgeVariant && (\n            <Badge variant={asset.statusBadgeVariant} style={{ position: 'absolute', left: '6px', top: '6px' }}>\n              {asset.status}\n            </Badge>\n          )}\n          { asset.duration >= 0 && (\n            <Badge\n              variant=\"dark\"\n              style={{\n                position: 'absolute',\n                right: '6px',\n                bottom: '6px',\n                backgroundColor: 'black',\n              }}\n            >\n              {formatDuration(asset.duration)}\n            </Badge>\n          )}\n        </div>\n        <div className=\"card-text px-3 py-2\" style={{ marginTop: '10px' }}>\n          <h3 className=\"text-primary-500\">{asset.displayName}</h3>\n          { asset.transcripts && (\n            <div style={{ margin: '0 0 5px 0' }}>\n              <LanguageNamesWidget\n                transcripts={asset.transcripts}\n              />\n            </div>\n          )}\n          <p className=\"text-gray-500\" style={{ fontSize: '11px' }}>\n            <FormattedMessage\n              {...messages.addedDate}\n              values={{\n                date: <FormattedDate value={asset.dateAdded} />,\n                time: <FormattedTime value={asset.dateAdded} />,\n              }}\n            />\n          </p>\n        </div>\n      </div>\n    </SelectableBox>\n  );\n};\n\nGalleryCard.defaultProps = {\n  thumbnailFallback: undefined,\n};\nGalleryCard.propTypes = {\n  asset: PropTypes.shape({\n    contentType: PropTypes.string,\n    displayName: PropTypes.string,\n    externalUrl: PropTypes.string,\n    id: PropTypes.string,\n    dateAdded: PropTypes.oneOfType([PropTypes.number, PropTypes.instanceOf(Date)]),\n    locked: PropTypes.bool,\n    portableUrl: PropTypes.string,\n    thumbnail: PropTypes.string,\n    url: PropTypes.string,\n    duration: PropTypes.number,\n    status: PropTypes.string,\n    statusBadgeVariant: PropTypes.string,\n    transcripts: PropTypes.arrayOf(PropTypes.string),\n  }).isRequired,\n  thumbnailFallback: PropTypes.element,\n};\n\nexport default GalleryCard;\n"],"mappings":"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"}